---
import Navbar from "~/components/navbar.astro";
import Hero from "~/components/hero.astro";
import CollectionsGrid from "~/components/collections-grid.astro";
import Footer from "~/components/footer.astro";
import { sdk } from "../graphql/sdk";
import type { Collection } from "~/graphql/_generated";
import BaseLayout from "~/layouts/base.astro";

const res = await sdk.listCollections(
  { options: { take: 10, topLevelOnly: true } },
  {
    cookies: Astro.cookies,
  }
);
const collections = res.collections.items as Array<Collection>;
---

<BaseLayout title="Home" description="Vendure astro storefront">
  <Hero />
  <CollectionsGrid collections={collections} />
</BaseLayout>
